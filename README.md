```markdown
# NAT Reverse Calculator

![Python Version](https://img.shields.io/badge/python-3.6%2B-blue)

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ (—Å–µ—Ä—ã–µ) IP-–∞–¥—Ä–µ—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ (–±–µ–ª–æ–≥–æ) –∞–¥—Ä–µ—Å–∞, –∑–Ω–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã NAT-–ø—É–ª–æ–≤.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/Phoenix1833/anat_calc.git
cd anat_calc
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python calc.py <external_ip>
```

**–ü—Ä–∏–º–µ—Ä:**

```bash
python calc.py 178.110.1.100
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT-–ø—É–ª–æ–≤

–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `calc.py`, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ NAT-–ø—É–ª—ã:

```python
pools = [
    NatPool(
        "10.0.0.1",         # –ù–∞—á–∞–ª–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
        "10.0.255.254",     # –ö–æ–Ω–µ—Ü –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
        "178.110.1.0",      # –ù–∞—á–∞–ª–æ –≤–Ω–µ—à–Ω–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
        "178.110.1.255",    # –ö–æ–Ω–µ—Ü –≤–Ω–µ—à–Ω–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
        hashtype=0,         # 0 - –ª–∏–Ω–µ–π–Ω—ã–π NAT, 1 - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
        exclude=3           # –ë–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ (1 - –∏—Å–∫–ª—é—á–∏—Ç—å .0, 2 - –∏—Å–∫–ª—é—á–∏—Ç—å .255)
    ),
    # –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É–ª—ã –∑–¥–µ—Å—å
]
```

## üîç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã NAT

### –õ–∏–Ω–µ–π–Ω—ã–π NAT (`hashtype=0`)

```python
base = ((internal_ip - internal_start) * external_range) / internal_range
external_ip = external_start + base
```

### –•–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π NAT (`hashtype=1`)

```python
hashed = jhash_1word(internal_ip)
external_ip = external_start + reciprocal_scale(hashed, range_size)
```

## üìù –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```plaintext
–ù–∞–π–¥–µ–Ω–æ –≤ –ø—É–ª–µ 10.0.192.0 - 10.0.255.255:
LAN IP: 10.0.200.42
LAN IP: 10.0.210.128

–ù–∞–π–¥–µ–Ω–æ –≤ –ø—É–ª–µ 192.168.0.1 - 192.168.10.255:
LAN IP: 192.168.5.33
```

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ IPv4
- NAT-–ø—É–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã –≤ –∫–æ–¥–µ
- –¢—Ä–µ–±—É–µ—Ç—Å—è Python 3.6 –∏–ª–∏ –Ω–æ–≤–µ–µ

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.
``` 